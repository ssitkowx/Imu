#pragma once

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "Imu.hpp"
#include "I2cHw.hpp"
#include "Settings.hpp"

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// CLASSES/STRUCTURES ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

class Accel9250 : public Imu<Accel9250>
{
    static constexpr char * module = (char *)"Accel9250";
    friend Imu<Accel9250>;

    public:
        explicit Accel9250 (I2cHw & vI2cHw);
        ~Accel9250 () = default;

        void              Init              (void);
        ImuSettings::Axes GetAxes           (void);
        void              Calibrate         (void);
        bool              IsCalibInProgress (void) { return Settings::GetInst ()->Timer.Imu.Counter < CalibTime; }

    private:
        I2cHw & i2cHw;

        void setSensitivity (const uint8_t vData);
};

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
